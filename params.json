{"name":"Recon","tagline":"Software and test files for Recon (Reconstruction of Estimated Communities from Observed Numbers)","body":"#Recon (Reconstruction of Estimated Communities from Observed Numbers)\r\n\r\n##Joseph Kaplinsky, PhD\r\n##Ramy Arnaout, MD, DPhil\r\n\r\n---\r\n\r\n##0. Contents\r\n\r\n1. What is Recon?\r\n3. Requirements\r\n2. Terminology\r\n4. Running Recon\r\n5. Diversity measures\r\n6. Error bars\r\n7. Power calculations\r\n8. Resampling a fit\r\n9. Contact information\r\n10. License\r\n\r\n\r\n\r\n##1. What is Recon?\r\n\r\nRecon is an algorithm for generating a description of a population\r\nfrom a sample (see Section 2, Terminology).\r\n\r\nMore precisely, it uses the distribution of species counts in a sample\r\nto estimate the distribution of species sizes in the population from\r\nwhich the sample was drawn.\r\n\r\nIt:\r\n\r\n- assumes nothing about the frequency distribution of species in\r\nthe population,\r\n- avoids (over)fitting of sampling noise,\r\n- scans many starting points in an attempt to find a global best\r\nfit, and\r\n- outputs error bars for the number of species of a given size in\r\nthe population.\r\n\r\nThe code provided in this directory:\r\n\r\n- given species frequencies observed in a sample, determines the\r\nmaximum-likelihood species frequency distribution of the\r\npopulation without overfitting (see Section 4, Running Recon),\r\n- outputs diversity measurements for the population (see Section\r\n5, Diversity measures),\r\n- allows new error bar calculations (see Section 6, Error bars),\r\nand\r\n- performs power calculations of the sample size required to be\r\nable to detect a given difference between two samples (see\r\nSection 7, Power calculations).\r\n\r\n\r\n\r\n##2. Requirements\r\n\r\nrecon.py requires Python 2.7 (https://www.python.org) and the SciPy\r\nPython library (http://scipy.org). We have tested it on Macintosh OS\r\nX Lion and Yosemite.\r\n\r\n\r\n\r\n##3. Terminology\r\n\r\nA **species** is group made up of one or more **individuals.** The number\r\nof individuals of a given species is that species' **size.** A **sample**\r\nis a set of individuals from one or more species that is drawn\r\nrandomly from a **population.** Species represented in the population\r\nthat are not represented in the sample are called **missing species.**\r\n\r\n**Diversity** refers to any of a set of measures of the frequency\r\ndistribution in the population. They can be thought of as effective\r\nnumbers of species in the population. The **Hill numbers** (**qD,** read\r\n\"D-q\") are a family of diversity measures defined by the parameter q,\r\nwhich determines the degree to which diversity measures are weighted\r\ntoward larger species. For example, 0D is **species richness,** a\r\ndiversity measure that weights all species equally (and so is just a\r\ncount of the number of different species). infD is the reciprocal of\r\nthe Berger-Parker Index, the effective number of species if all\r\nspecies were the size of the largest species. Simple mathematical\r\ntransformations of Shannon entropy (q=1), Gini-Simpson Index (q=2),\r\nand other common diversity measures correspond to different Hill\r\nnumbers.\r\n\r\n\r\n\r\n##4. Running Recon\r\n\r\n###Description\r\n\r\nGiven a set of observations of species frequency in the sample,\r\noutputs a set of parameters that describe the maximum-likelihood\r\nspecies frequency distribution in the parent population, without\r\noverfitting.\r\n\r\n###Usage\r\n\r\npython recon.py [-c -d BIN_SIZE -l PARAMETER_LIMIT -t THRESHOLD -v -r]\r\nFILE_OUT DATA_FILE\r\n\r\n###Example\r\n\r\n    python recon.py -l 10 -t 30 test.out recon_test_data.txt\r\n\r\n###Output\r\n\r\nA fit file with parameters that describe the parent population.\r\nDiversity measurements for the population can be output and displayed\r\nfrom this file (see section 5, Displaying results). These parameters\r\nare called \"weights\" and \"means.\" The weights w_j give the proportion\r\nof species in the population that have j individuals. The means are\r\nPoisson parameters; they give the mean number of individuals a species\r\nof size j contributes to the sample.\r\n\r\n###Required parameters\r\n\r\nFILE_OUT    the filename to be used for output. Note that if this file\r\nexists it will not be overwritten; instead, recon will\r\nexit with an error message.\r\n\r\nDATA_FILE   a text file containing the number of individuals of each\r\nspecies seen in the sample (i.e., the species sizes in the\r\nsample).\r\n\r\nThe default format is a tab-delimited file with lines of\r\nthe form\r\n\r\nspecies name <tab> species size\r\n\r\nwith a newline character delimiting lines. Species size is\r\nan integer. Sample data in this format can be found in the\r\nfile recon_test_data.txt; in it, species1 has 1\r\nindividual, species2 has 1 individual, etc. up to\r\nspecies100; species 101 has 2 individuals, etc.\r\n\r\n###Options\r\n\r\n-c          The -c option allows recon to read an alternative\r\ntab-delimited format with lines of the form\r\n\r\nspecies size <tab> number of species of this size\r\n\r\nBoth values are integers. Example data in this format can\r\nbe found in recon_test_data_distribution_in_file.txt; this\r\nis the same data as in recon_test_data.txt, just in the\r\nalternative format. (Note that Recon does not need species\r\nnames.) The number of species of size 1 (i.e., the number\r\nof species with one individual each) in the sample is 100,\r\nthe number of species of size 2 is 30, etc.\r\n\r\n-d BIN_SIZE (default: 1)\r\nAverage number of observations per individual. In many\r\ncircumstances, each individual in the sample will be observed\r\nand counted once. However, there are cases where each\r\nindividual in the sample will be observed and counted\r\nmultiple times. BIN_SIZE allows for this possibility.\r\n\r\n-l PARAMETER_LIMIT (default: 20)\r\nThe maximum number of parameters that the algorithm will\r\nuse to fit the data (default, 20). The recon algorithm\r\nwill continue adding parameters until the (corrected)\r\nAkaike Information Criterion indicates that additional\r\nparameters are not justified. In practice the limit of 20\r\nis rarely reached.\r\n\r\n-t THRESHOLD (default: 50)\r\nThe -t option allows you to modify THRESHOLD, the size\r\nabove which sampling error is considered small, which\r\nmeans that Recon will assume the frequency of species of\r\nthis size or greater in the population is the same as the\r\nfrequency in the sample. It defaults to 50, but 30 usually\r\ngives good results. This is because if, in a sample from a\r\nwell mixed population, species A is seen 30 times in a\r\nsample it is very unlikely that there is another species B\r\nwhich is the same size as A in the parent population but\r\nis missing or very poorly reperesented in the sample.\r\nSmaller values will give faster run times but less\r\naccurate results.\r\n\r\n-v \r\nThe -v option produces verbose output. It will print\r\nthe starting and finishing parameters of every step that\r\nrecon takes during the fit. This may typically be tens\r\nof thousands of lines.\r\n\r\n\r\n##5. Diversity measures\r\n\r\n###Description\r\n\r\nGiven a fit file (either the output from Section 4 or any population\r\ndescription in that format), outputs a table of diversity measures as\r\nHill numbers (see Section 3, Terminology).\r\n\r\n###Usage\r\n\r\npython recon.py -T -b ERROR_BAR_PARAMETERS FILE_OUT FILE_IN1 [FILE_IN2\r\nFILE_IN3 ...]\r\n\r\n###Example\r\n\r\n    python recon.py -T -b error_bar_params.txt error_test.out test.out\r\n\r\n###Output\r\n\r\nA table of Hill numbers for the reconstructed distribution, one row\r\nfor each input file (see FILE_IN1 below). The columns labelled \"obs\"\r\nshow the Hill numbers from the sample. The columns labeled \"MLE\"\r\n(maximum-likelihood estimate) show the Hill numbers Recon has\r\nestimated for the population. Since 0D_MLE is the estimate of the\r\nspecies richness in the parent population, the estimated missing\r\nspecies is 0D_MLE - 0D_obs.\r\n\r\n###Required parameters\r\n\r\n-T          Tells Recon to output a table of diversity measures.\r\n\r\n-b ERROR_BAR_PARAMETERS\r\nA file that contains parameters for constructing error\r\nbars on fits. The supplied file error_bar_params.txt can\r\nbe used. Alternatively, Recon can generate an error bar\r\nparameter file from a set of gold standard fits.\r\n\r\nFILE_OUT    The desired name of the output file.\r\n\r\nFILE_IN1    The input file. A fit file output from the fit in section\r\n4, Running Recon.\r\n\r\n###Optional parameters\r\n\r\n[FILE_IN2, FILE_IN3 ...]\r\nThese are additional input files. Each file will generate\r\none row in the output table.\r\n\r\n\r\n\r\n##6. Error bars\r\n\r\n###Description\r\n\r\nUsing Recon to generate an error bar parameter file based on from a\r\nset of fits on data for which the number of missing species is known.\r\n\r\n###Usage\r\n\r\npython recon.py -e FILE_OUT ERROR_BAR_FIT_DIRECTORY\r\n\r\n###Example\r\n\r\n    python recon.py -e error_bars_test.out Test_dir\r\n\r\n###Output\r\n\r\nAn error bar parameter file.\r\n\r\n###Required parameters\r\n\r\n-e          Tells recon to make an error bar parameter file.\r\n\r\nFILE_OUT    The name of the new error bar parameter file\r\n\r\nERROR_BAR_FIT_DIRECTORY\r\nThe name of a directory that contains the fits with known\r\nmissing species. The known missing species are encoded in\r\nthe weights and means of the population.\r\n\r\n\r\n##7. Power calculations\r\n\r\n###Description\r\n\r\nGenerates a power table with the minimum sample size required to be\r\nable to detect differences of a given magnitude in a given Hill number\r\nfor two populations. That is, if you have two populations, and want to\r\nbe able detect a difference in 1D of x%, the table tells you how big\r\nyour samples have to be.\r\n\r\n###Usage\r\n\r\npython recon.py -q HILL_NUMBER [-m MINIMUM_NUMBER_OF_DOUBLETS]\r\nFILE_OUT ERROR_BAR_PARAMETERS\r\n\r\n###Example\r\n\r\n    python recon.py -p -q 0 power.out error_bar_params.txt\r\n\r\n###Output\r\n\r\nThe rows and columns of the output table show the minimum fold\r\ndifferences that can be detected for different population sizes. At\r\npresent these are hardcoded (lines 1605 and 1611); future versions\r\nwill implement command-line control.\r\n\r\n###Required parameters\r\n\r\n-q HILL_NUMBER\r\nThe Hill number for which the power calculation is carried\r\nout.\r\n\r\nFILE_OUT    The desired name of the output file.\r\n\r\nERROR_BAR_PARAMETERS\r\nA file that contains parameters for constructing error\r\nbars on fits. The supplied file error_bar_params.txt can\r\nbe used. Alternatively, Recon can generate an error bar\r\nparameter file from a set of gold standard fits.\r\n\r\n###Optional parameters\r\n\r\nMINIMUM_NUMBER_OF_DOUBLETS\r\nis an additional statistical minimum required for good\r\nresults. The default of 100 should be good for most\r\npurposes.\r\n\r\n##8. Resampling a fit\r\n\r\n###Description\r\n\r\nThis allows resampling a model. The output gives the maximum likelihood\r\nobserved species size distribution of samples from the model. This is the \r\ndistribution that Recon attempts to make as close as possible to the \r\nobserved species size distribution. The closeness of the fits can be \r\ncompared to measure the goodness of fit.\r\n\r\n###Usage\r\n    \r\npython recon.py -r FILE_OUT FILE_IN\r\n\r\n###Example\r\n    \r\n    python recon.py -r resample.out test.out \r\n\r\n###Output\r\n\r\nA list of species sizes up to the threshold that was used in the original\r\nfit is outputted, together with a count of species for each size. Output \r\nis written both to standard output and to FILE_OUT.\r\n                \r\n###Required parameters\r\n\r\nFILE_OUT\r\nThe desired name of the output file.\r\n\r\nFILE_IN\r\nA file that contains model fitted parameters as output from a previously completely Recon fit.\r\n\r\n\r\n##9. Contact information\r\n\r\nCorrespondence should be addressed to Ramy Arnaout at rarnaout at gmail dot com.\r\n\r\n\r\n##10. License\r\n\r\nPLEASE READ THIS AGREEMENT.  ANY USE OF THE SOFTWARE OR ANY OF THE SOURCE CODE, OR REPRODUCTION OR MODIFICATION OF THE SOFTWARE OR SOURCE CODE INDICATES YOUR ACCEPTANCE OF THE TERMS OF THIS AGREEMENT.  IF YOU DO NOT AGREE, DO NOT USE, COPY, OR MODIFY THE SOFTWARE.  YOU MAY PRINT THIS AGREEMENT FOR YOUR RECORDS.\r\n\r\nTHIS SOURCE CODE SOFTWARE LICENSE (the “Agreement”) is between Beth Israel Deaconess Medical Center, Inc. (“BIDMC”) and you (“Licensee”) as of the date that you accept these terms by clicking “Agree” below (“Effective Date”). You agree as follows:\r\n\r\n###1. Definitions\r\n(a) “Derivative” means any translation, adaptation, alteration, transformation, or modification, including\r\ninclusion as part of another software program or product, of the Software.\r\n(b) “Embedded Terms” means any terms and conditions of this Agreement embedded in the Source Code.\r\n(c) “Intellectual Property Rights” means all patents, patent rights, patent applications, copyrights, copyright registrations, trade secrets, trademarks and service marks (including, where applicable, all derivative works of the foregoing).\r\n(d) “Object Code” means computer programs assembled, compiled, or converted to magnetic or electronic binary form, which are readable and useable by computer equipment.\r\n(e) “Software” means the software program known as, “Recon: Reconstruction of Estimated Communities from Observed Numbers”, including its Object Code and Source Code.\r\n(f) “Source Code” means computer programs written in higher-level programming languages and readable by humans.\r\n\r\n###2. License\r\nSubject to the terms and conditions of this Agreement, BIDMC grants to Licensee a no cost, personal, non-exclusive, non-transferable, limited license (without the right to sublicense) to download the Software, and to copy, make Derivatives and use the Software for Licensee’s internal academic and research purposes during the term of this Agreement. Any rights not expressly granted in this Agreement are expressly reserved.\r\n(a) Derivatives. Licensee agrees that from time to time, or upon request by BIDMC, Licensee will deliver all Derivatives to BIDMC and hereby grants to BIDMC a no cost, personal, perpetual, irrevocable, non-exclusive, non- transferable, limited license (with the right to sublicense) to download the Derivatives, to copy, distribute and make Derivatives of the Derivative, and to use the Derivative for BIDMC’s internal academic and research purposes.\r\n(b) Commercial Restrictions on Use of the Software. The following are prohibited without obtaining a commercial license from the Office of Technology Ventures at BIDMC:\r\n(i) Using the Software or any Derivative to produce any commercial product or to provide any commercial service.\r\n(ii) Charging a fee for use of the Software or any Derivative for any purpose.\r\n(iii) Distributing the Software or any Derivative to any other party, unless the distribution is made subject to this Agreement and the recipient “Agrees” to this Agreement through the website: https://github.com/ArnaoutLab/Recon\r\n(c) Patents. BIDMC does not grant through this Agreement any licenses under any BIDMC patent or patent application.\r\n(d) Intellectual Property Rights Notices; Embedded Terms. Licensee is prohibited from removing or altering any of the Intellectual Property Rights notice(s) and any Embedded Terms embedded in the Software. Licensee must reproduce the unaltered Intellectual Property Rights notice(s) and the Embedded Terms in any full or partial copies of the Source Code that Licensee makes.\r\n(e) Export Compliance. Licensee acknowledges and agrees that U.S. export control laws and other applicable export and import laws govern download and use of the Software. Licensee will neither export nor re-export, directly or indirectly, the Software in violation of U.S. laws or use the Software for any purpose prohibited by U.S. laws.\r\n￼￼￼￼￼￼￼￼￼￼￼￼￼\r\n###3. Disclaimer of Warranties; Limited Liability\r\n(a) Disclaimer of Warranties. THE SOFTWARE IS DELIVERED “AS IS.” BIDMC MAKES NO OTHER WARRANTIES WHATSOEVER, EXPRESS OR IMPLIED, WITH REGARD TO THE SOFTWARE PROVIDED UNDER THIS AGREEMENT, IN WHOLE OR IN PART. BIDMC EXPLICITLY DISCLAIMS ALL WARRANTIES OF NON-INFRINGEMENT, MERCHANTABILITY AND OF FITNESS FOR A PARTICULAR PURPOSE. BIDMC EXPRESSLY DOES NOT WARRANT THAT THE SOFTWARE, IN WHOLE OR IN PART, WILL BE ERROR FREE, OPERATE WITHOUT INTERRUPTION OR MEET LICENSEE’S REQUIREMENTS.\r\n(b) Limited Liability; No Consequential Damages. THE TOTAL LIABILITY OF BIDMC, ITS AFFILIATES, TRUSTEES, OFFICERS, AND EMPLOYEES IN CONNECTION WITH THE SOFTWARE, OR ANY OTHER MATTER RELATING TO THIS AGREEMENT (WHATEVER THE BASIS FOR THE CAUSE OF ACTION) WILL NOT EXCEED IN THE AGGREGATE OVER THE TERM OF THE AGREEMENT $100. IN NO EVENT WILL BIDMC , ITS AFFILIATES, TRUSTEES, OFFICERS, AND EMPLOYEES BE LIABLE FOR ANY SPECIAL, INCIDENTAL, INDIRECT OR CONSEQUENTIAL DAMAGES OR DAMAGES FOR LOST PROFITS, WHETHER BASED ON BREACH OF CONTRACT, TORT (INCLUDING NEGLIGENCE), PRODUCT LIABILITY, OR OTHERWISE.\r\n(c) Failure of Essential Purpose. THE LIMITATIONS SPECIFIED IN THIS SECTION WILL SURVIVE AND APPLY EVEN IF ANY REMEDY SPECIFIED IN THIS AGREEMENT IS FOUND TO HAVE FAILED OF ITS ESSENTIAL PURPOSE.\r\n\r\n###4. Termination\r\n(a) Right of Termination. BIDMC may, for any reason or no reason, upon written notice sent to the contact information Licensee provides upon clicking “agree”, immediately terminate this Agreement. This Agreement will automatically terminate upon any breach by Licensee of any of the terms or conditions of this Agreement. BIDMC shall not be liable to Licensee or any third party for any termination of this Agreement.\r\n(b) Licensee Derivatives. Upon termination or expiration of this Agreement, Licensee shall promptly deliver to BIDMC the Source Code and Object Code of Licensee’s Derivatives and shall immediately cease all use of the Software.\r\n\r\n###5. Non-use of Name \r\nWithout BIDMC’s prior written consent, Licensee will not identify BIDMC in any promotional statement, or otherwise use the name of any BIDMC employee or any trademark, service mark, trade name, or symbol of BIDMC.\r\n\r\n###6. Assignment\r\nThis Agreement and the rights and obligations hereunder are personal to Licensee, and may not be assigned or otherwise transferred, in whole or in part, without BIDMC’s prior written consent. Any attempt to do otherwise shall be void and of no effect. BIDMC has the right to assign this Agreement or any rights or obligations hereunder to any third party. This Agreement shall be binding upon, and inure to the benefit of, the successors, representatives and permitted assigns of the parties.\r\n\r\n###7. Choice of Law\r\nThis Agreement and all disputes and controversies related to this Agreement, are governed by and construed under the laws of the Commonwealth of Massachusetts, without regard to the choice of law provisions. The state and federal courts located in the Commonwealth of Massachusetts are the exclusive forum for any action between the parties relating to this Agreement. Licensee submits to the jurisdiction of such courts, and waives any claim that such a court lacks jurisdiction over Licensee or constitutes an inconvenient or improper forum. The United Nations Convention on the International Sale of Goods (CISG) shall not apply to the interpretation or enforcement of this Agreement.\r\n\r\n###8. English Language\r\nThis Agreement is originally written in the English language and the English language version shall control over any translations.\r\n\r\n###9. Entire Agreement \r\nThis Agreement constitutes the entire agreement, and supersedes all prior and contemporaneous agreements or understandings (oral or written), between the parties about the subject matter of this Agreement. Licensee has no right to waive or modify any of this Agreement without the written consent of BIDMC. No waiver, consent or modification of this Agreement shall bind either party unless in writing and signed by the party granting the waiver. The failure of either party to enforce its rights under this Agreement at any time for any period will not be construed as a waiver of such rights. If any provision of this Agreement is determined to be illegal or unenforceable, that provision will be limited or eliminated to the minimum extent necessary so that this Agreement will otherwise remain in full force and effect and enforceable.\r\n\r\nLast Updated June 23, 2015\r\n© 2015 Beth Israel Deaconess Medical Hospital, Inc. All rights reserved.","google":"UA-37388963-1","note":"Don't delete this file! It's used internally to help with page regeneration."}